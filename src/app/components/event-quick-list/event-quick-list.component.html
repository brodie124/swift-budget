<div class="event-quick-list">
  <p-card *ngFor="let event of calculatedEvents" class="block mb-5 event-item">
      <ng-template pTemplate="footer">
        @if(event.nextOccurrence && shouldShowReminderForEvent(event)) {
          <div class="mark-as-paid-reminder">
            <span>
              Due in
              {{ event.nextOccurrence.timeUntil.days | number:'1.0-0' }}
              {{ event.nextOccurrence.timeUntil.days >= 2 ? 'days' : 'day' }}
            </span>
          </div>
        }
      </ng-template>


    <div class="flex flex-row">
      <div class="mr-4 flex align-items-center justify-content-center" style="font-size: 24px;">
<!--        ICON HERE-->
        @if(event.isPaid) {
          <i class="fa-regular fa-circle-check text-green-500"></i>
        } @else if((event.nextOccurrence?.timeUntil?.days ?? 999) < 0) {
          <i class="fa-regular fa-circle-exclamation text-red-500"></i>
        } @else {
          <i class="fa-regular fa-clock"></i>
        }

      </div>

      <div class="flex-grow-1">
        <h3 class="m-0 p-0">{{ event.event.name }}</h3>
        {{ event.nextOccurrence?.date?.format("DD/MM/YYYY") }}


        @if(!event.isPaid) {
          <div class="toolbar mt-3" style="font-size: 0.5rem;">
            <p-button label="Mark as paid" [link]="true" size="small" class="p-0" />
          </div>
        }

      </div>
      <div style="font-size: 2.5rem;">
        <span class="p-text-secondary" style="font-size: 2rem;">Â£</span>
        {{ event.event.expense }}
      </div>
    </div>


  </p-card>
</div>
